__NUXT_JSONP__("/posts/mongoose-v-field", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){o.slug=p;o.description="이 필드의 정체는 무엇인가";o.title="Mongoose __v 필드";o.tags="backend, database, mongodb, db, mongoose";o.toc=[{id:e,depth:2,text:e}];o.body={type:"root",children:[{type:b,tag:f,props:{},children:[{type:b,tag:"img",props:{alt:p,src:"\u002Fimages\u002F210415-mongoose-v-field.jpg"},children:[]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Mongoose의 각 도큐먼트마다 붙는 "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" 필드(기본값: "},{type:b,tag:d,props:{},children:[{type:a,value:"0"}]},{type:a,value:")는 **버전 키(versionKey)**라고 해서 해당 도큐먼트의 내부 수정에 대한 정보를 담고 있다. (즉, 도큐먼트 버전 관리를 해주는 필드)"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"오직 "},{type:b,tag:d,props:{},children:[{type:a,value:".save()"}]},{type:a,value:"로 도큐먼트를 업데이트할 때만 버전 키가 업데이트되며, "},{type:b,tag:d,props:{},children:[{type:a,value:"update()"}]},{type:a,value:"나 "},{type:b,tag:d,props:{},children:[{type:a,value:"findOneAndUpdate()"}]},{type:a,value:"를 사용하면 업데이트되지 않는다."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"스키마를 생성할 때 옵션으로 "},{type:b,tag:d,props:{},children:[{type:a,value:"{ versionKey: 버전키이름 }"}]},{type:a,value:" 값을 넣어 "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:"가 아닌 다른 이름으로 바꿀 수 있으며, "},{type:b,tag:d,props:{},children:[{type:a,value:"{ versionKey: false }"}]},{type:a,value:" 옵션을 주면 자동으로 "},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:" 필드가 붙지 않는다."}]},{type:a,value:c},{type:b,tag:"h2",props:{id:e},children:[{type:b,tag:g,props:{href:"#%EC%B6%9C%EC%B2%98",ariaHidden:"true",tabIndex:-1},children:[{type:b,tag:"span",props:{className:["icon","icon-link"]},children:[]}]},{type:a,value:e}]},{type:a,value:c},{type:b,tag:"ul",props:{},children:[{type:a,value:c},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{href:q,rel:[k,l,m],target:n},children:[{type:a,value:q}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{href:r,rel:[k,l,m],target:n},children:[{type:a,value:r}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:b,tag:g,props:{href:s,rel:[k,l,m],target:n},children:[{type:a,value:s}]}]},{type:a,value:c}]}]};o.text="\n![mongoose-v-field](\u002Fimages\u002F210415-mongoose-v-field.jpg)\n\nMongoose의 각 도큐먼트마다 붙는 `__v` 필드(기본값: `0`)는 **버전 키(versionKey)**라고 해서 해당 도큐먼트의 내부 수정에 대한 정보를 담고 있다. (즉, 도큐먼트 버전 관리를 해주는 필드)\n\n오직 `.save()`로 도큐먼트를 업데이트할 때만 버전 키가 업데이트되며, `update()`나 `findOneAndUpdate()`를 사용하면 업데이트되지 않는다.\n\n스키마를 생성할 때 옵션으로 `{ versionKey: 버전키이름 }` 값을 넣어 `__v`가 아닌 다른 이름으로 바꿀 수 있으며, `{ versionKey: false }` 옵션을 주면 자동으로 `__v` 필드가 붙지 않는다.\n\n## 출처\n\n- https:\u002F\u002Fmongoosejs.com\u002Fdocs\u002Fguide.html#versionKey\n- https:\u002F\u002Fintellipaat.com\u002Fcommunity\u002F27868\u002Fwhat-is-the-v-field-in-mongoose\n- https:\u002F\u002Fvelog.io\u002F@suseodd\u002FTIL-20.12.22\n";o.dir="\u002Fposts\u002F2021\u002F04\u002F15";o.path="\u002Fposts\u002F2021\u002F04\u002F15\u002Fmongoose-v-field";o.extension=".md";o.createdAt=h;o.updatedAt=h;return {data:[{post:o,prev:{slug:"vue-meta",title:"Vue에서 \u003Chead\u003E 태그에 meta 정보 추가하기",createdAt:h},next:{slug:"get-cookie-from-express-server",title:"Express 서버에서 저장한 쿠키를 브라우저에서 보는 방법",createdAt:h}}],fetch:{},mutations:[["SET_POST",o],["SET_HEADER_IMAGE_STATE",true],["SET_SCROLL_STATE",false]]}}("text","element","\n","code","출처","p","a","2022-07-09T15:52:22.000Z","__v","li","nofollow","noopener","noreferrer","_blank",{},"mongoose-v-field","https:\u002F\u002Fmongoosejs.com\u002Fdocs\u002Fguide.html#versionKey","https:\u002F\u002Fintellipaat.com\u002Fcommunity\u002F27868\u002Fwhat-is-the-v-field-in-mongoose","https:\u002F\u002Fvelog.io\u002F@suseodd\u002FTIL-20.12.22")));